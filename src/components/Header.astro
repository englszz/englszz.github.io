---
import { defaultLanguage, type LanguageCode } from '@/i18n/ui';
import type { NavItem } from '@/layouts/BaseLayout.astro';
// âŒ ELIMINAMOS ESTAS IMPORTACIONES, ya no se usan al quitar el selector de idioma:
// import { type LanguageSelectorItem } from '@/lib/i18n-utils';
// import { LanguageSelector } from './LanguageSelector.tsx';
import { getRelativeLocaleUrl } from 'astro:i18n';
import ThemeToggle from './ThemeToggle.astro';

// ğŸš€ IMPORTAMOS LO NECESARIO PARA LA IMAGEN
import { Image } from 'astro:assets';
import EdLogo from '@/assets/ed.png'; 

interface Props {
Â  // âŒ ELIMINAMOS ESTA PROPIEDAD:
Â  // languagesForSelector: Array<LanguageSelectorItem>;
Â  navItems: Array<NavItem>;
}
// Ajustamos la destructuraciÃ³n de props
const { navItems } = Astro.props as Props;

const currentLocale =
Â  (Astro.currentLocale as LanguageCode | undefined) ?? defaultLanguage;
---

<header
Â  class="py-6 border-b sticky top-0 z-50 w-full bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"
>
Â  <nav class="mx-auto px-4 max-w-screen-2xl flex justify-between items-center">
Â  Â  {/* âœ… CORRECCIÃ“N CLAVE: El logo ahora usa getRelativeLocaleUrl para apuntar siempre
         a la raÃ­z (/) con el prefijo de idioma 'en'. */}
Â  Â  <a 
Â  Â  Â  href={getRelativeLocaleUrl(currentLocale, '/')} 
Â  Â  Â  class="flex items-center space-x-2 text-2xl font-bold"
Â  Â  >
Â  Â  Â  Â  <ImageÂ 
Â  Â  Â  Â  Â  Â  src={EdLogo}Â 
Â  Â  Â  Â  Â  Â  alt="Logo de Engels DamirÃ³n"Â 
Â  Â  Â  Â  Â  Â  width={40}Â Â 
Â  Â  Â  Â  Â  Â  height={40}Â 
Â  Â  Â  Â  />
Â  Â  </a>
Â  Â  <div class="flex items-center gap-x-5">
Â  Â  Â  {
Â  Â  Â  Â  navItems.map((link) => (
Â  Â  Â  Â  Â  <a
Â  Â  Â  Â  Â  Â  href={getRelativeLocaleUrl(currentLocale, link.href)}
Â  Â  Â  Â  Â  Â  class="font-medium text-muted-foreground transition-colors hover:text-foreground relative group"
Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  {link.label}
Â  Â  Â  Â  Â  Â  <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full" />
Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  ))
Â  Â  Â  }
Â  Â  </div>
Â  Â  <div class="flex items-center gap-x-3">
Â  Â  Â  {/* âŒ ELIMINAMOS EL SELECTOR DE IDIOMA */}
Â  Â  Â  {/* <LanguageSelector
Â  Â  Â  Â  currentLocale={currentLocale}
Â  Â  Â  Â  languages={languagesForSelector}
Â  Â  Â  Â  client:load
Â  Â  Â  /> */}
Â  Â  Â  <ThemeToggle />
Â  Â  </div>
Â  </nav>
</header>